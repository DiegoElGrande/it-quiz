# IT Quiz - Правила разработки и контекст проекта

## Обзор проекта
IT Quiz - это веб-приложение для изучения IT-технологий с использованием метода интервальных повторений (Spaced Repetition System, SRS). Проект представляет собой систему карточек с вопросами по различным IT-направлениям (frontend, backend, devops, algorithms).

## Технологический стек

### Основные технологии
- **Next.js 16.1.1** - фреймворк с App Router
- **React 19.2.3** - UI библиотека
- **TypeScript 5** - типизация
- **Tailwind CSS 4** - стилизация (PostCSS)
- **React Compiler** - оптимизация компонентов (включен в next.config.ts)

### Инструменты разработки
- **ESLint 9** - линтинг с конфигом `eslint-config-next`
- **Node.js 20** - среда выполнения

## Архитектура проекта: Feature-Sliced Design (FSD)

Проект следует методологии FSD со следующей структурой слоев:

```
src/
├── app/              # Слой приложения (Next.js App Router)
│   ├── page.tsx      # Главная страница
│   ├── quiz/         # Страница квиза
│   ├── history/      # Страница истории
│   ├── layout.tsx    # Корневой layout
│   └── globals.css   # Глобальные стили
│
├── widgets/          # Виджеты (композиционные компоненты)
│   └── navigation/   # Навигация по приложению
│
├── entities/         # Сущности (бизнес-сущности)
│   └── quiz-card/    # Карточка квиза
│       ├── model/    # Модели и логика сущности
│       └── ui/       # UI компоненты сущности
│
├── features/         # Фичи (бизнес-функциональность)
│   ├── api/          # API вызовы фич
│   ├── config/       # Конфигурация фич
│   ├── lib/          # Утилиты фич
│   ├── model/        # Модели и логика фич
│   └── ui/           # UI компоненты фич
│
└── shared/           # Общие ресурсы
    ├── api/          # API клиенты и утилиты
    ├── assets/       # Статические ресурсы
    ├── config/       # Общая конфигурация
    ├── constants/    # Константы (например, quiz-card-items.json)
    ├── hooks/        # Переиспользуемые хуки
    ├── lib/          # Общие утилиты
    ├── types/        # Типы и интерфейсы
    └── ui/           # Переиспользуемые UI компоненты
```

### Правила импортов между слоями FSD
- **app** → может импортировать из всех слоев
- **widgets** → может импортировать из entities, features, shared (НЕ из app)
- **entities** → может импортировать только из shared
- **features** → может импортировать из entities и shared (НЕ из widgets, app)
- **shared** → не может импортировать из других слоев (базовый слой)

## Пути импорта (Path Aliases)

Используется алиас `@/*` для `./src/*`:
- `@/shared/ui` → `src/shared/ui`
- `@/entities/quiz-card` → `src/entities/quiz-card`
- `@/widgets/navigation` → `src/widgets/navigation`

Настроено в `tsconfig.json` → `paths: { "@/*": ["./src/*"] }`

## Типы данных

### Card Interface (`shared/types/card.types.ts`)
Основной тип данных для карточек квиза:
- `id: string` (UUID)
- `question: string` - текст вопроса
- `questionType: 'text' | 'code' | 'find_bug'` - тип вопроса
- `codeSnippet?: string` - код для вопросов с кодом
- `imageUrl?: string` - изображение (опционально)
- `answers: Answer[]` - массив ответов `{ text: string, isCorrect: boolean }`
- `explanation: string` - объяснение после ответа (ВАЖНО!)
- `tags: string[]` - теги (например, ["react", "hooks"])
- `direction: 'frontend' | 'backend' | 'devops' | 'algorithms'`
- `companies: string[]` - компании-источники
- `complexity: 1 | 2 | 3` - уровень сложности
- `userStatistics?: {...}` - персональная статистика пользователя (SRS)

## Стилизация

- Используется **Tailwind CSS 4** с PostCSS
- Классы применяются через `className`
- Цветовая схема: zinc (темная тема), indigo для акцентов
- Все компоненты должны быть адаптивными

## Компоненты

### Button Component (`shared/ui/button/index.tsx`)
Переиспользуемая кнопка с типами:
- `type: 'generated' | 'answer'` - тип кнопки
- `type="generated"` - открывает модальное окно для генерации набора
- `type="answer"` - обычная кнопка ответа
- Использует `'use client'` директиву (клиентский компонент)

### QuizCard Component (`entities/quiz-card/ui/index.tsx`)
Компонент карточки квиза с вопросом и вариантами ответов.

## Конфигурация

### Next.js (`next.config.ts`)
- Включен React Compiler (`reactCompiler: true`)
- Используется App Router

### TypeScript (`tsconfig.json`)
- Strict mode включен
- JSX: `react-jsx`
- Module resolution: `bundler`
- Target: `ES2017`

### ESLint (`eslint.config.mjs`)
- Используется `eslint-config-next` с core-web-vitals и typescript правилами
- Игнорирует `.next/`, `out/`, `build/`

## Соглашения по коду

1. **Именование файлов**: kebab-case для папок, PascalCase для компонентов
2. **Экспорты**: именованные экспорты, индексные файлы для публичного API
3. **Компоненты**: функциональные компоненты с TypeScript
4. **Клиентские компоненты**: использовать `'use client'` директиву при необходимости
5. **Стили**: использовать Tailwind классы, избегать inline стилей
6. **Типизация**: строгая типизация всех компонентов и функций

## Особенности проекта

- Приложение для изучения IT через интервальные повторения
- Поддержка различных типов вопросов: текст, код, поиск багов
- Система персональной статистики для каждого пользователя
- Фильтрация по направлениям (frontend, backend, devops, algorithms)
- Теги и компании-источники для организации контента

## Данные

- Константы хранятся в `shared/constants/quiz-card-items.json`
- Типы определены в `shared/types/`

## Навигация

Виджет Navigation (`widgets/navigation`) содержит ссылки:
- `/` - главная страница
- `/history` - история ответов
- `/quiz` - прохождение квиза

## Рекомендации при разработке

1. Соблюдать архитектуру FSD - размещать код в правильных слоях
2. Использовать path aliases (`@/*`) для импортов
3. Писать типизированный код с использованием существующих типов из `shared/types`
4. Переиспользовать компоненты из `shared/ui`
5. При создании новых фич - размещать их в `features/` с разделением на api, model, ui
6. При создании новых сущностей - размещать в `entities/` с разделением на model, ui
7. Композиционные компоненты размещать в `widgets/`
8. Использовать Tailwind CSS для стилизации, избегать кастомных CSS файлов
9. Следовать принципам React 19 и использовать React Compiler оптимизации

